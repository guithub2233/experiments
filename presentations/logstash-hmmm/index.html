<!-- TODO
  * Kibana stuff?
  * Live demo slot?
  * Horrible log examples for transitions
  -->
<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>logstash - hmmm</title>

    <meta name="description" content="logstash">
    <meta name="author" content="Jordan SIssel">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/night-jls.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="css/extra.css">
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">

        <section> 
          <img src="images/logstash.png" class="plain full left">
          <div class="right">
            <h2 class="bold">logstash</h2>
            <hr>
            <h4 style="text-align: right"> Jordan Sissel </h4>
            <h4 style="text-align: right"> DreamHost </h4>
          </div>
        </section> 

        <!-- Introduction {{{ -->
        <section data-markdown>
          ## hello!
        </section>

        <section data-markdown>
          first principles
        </section>

        <section>
          <p class="text-left">first principles</p><hr>

          <h2 class="text-right">
            If a newbie has a bad time,<br>
          </h2>
          <h1 class="text-right"> it is a bug.</h1>
        </section>

        <section>
          <p class="text-left">first principles</p><hr>
          <h2 class="text-left"> make it work,  </h2>
          <br>
          <h2 class="text-center fragment"> make it right,  </h2>
          <br>
          <h2 class="text-right fragment"> make it fast.  </h2>
        </section>

        <section>
          <p class="text-left">first principles</p><hr>
          <h2 class="text-left"> Open Source (Apache 2.0) </h2>
        </section>

        <section>
          <p class="text-left">first principles</p><hr>
          <h2> Should be easy to integrate. </h2>
        </section>
        <!-- }}} -->

        <section> <!-- unreadable apache segment {{{ -->
          <pre class="unreadable"><code>108.166.15.188 - - [13/Sep/2012:02:34:22 -0400] "GET /files/logstash/logstash-1.1.0-monolithic.jar HTTP/1.1" 200 40923996 "-" "Chef Client/0.10.8 (ruby-1.9.3-p0; ohai-0.6.10; x86_64-linux; +http://opscode.com)"
50.56.197.244 - - [13/Sep/2012:02:34:37 -0400] "GET / HTTP/1.1" 200 41687 "-" "Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt; DTS Agent"
89.96.171.210 - - [13/Sep/2012:02:32:49 -0400] "GET /files/logstash/logstash-1.1.0-monolithic.jar HTTP/1.1" 200 40923996 "-" "Chef Client/0.10.10 (ruby-1.9.3-p194; ohai-0.6.4; amd64-freebsd8; +http://opscode.com)"
37.57.128.238 - - [13/Sep/2012:02:37:24 -0400] "GET / HTTP/1.1" 200 41687 "-" "Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt; DTS Agent"
199.21.99.109 - - [13/Sep/2012:02:38:12 -0400] "GET /blog/tags/packaging HTTP/1.1" 200 15152 "-" "Mozilla/5.0 (compatible; YandexBot/3.0; +http://yandex.com/bots)"
180.76.6.232 - - [13/Sep/2012:02:38:23 -0400] "GET /blog/tags/wrt54gl HTTP/1.1" 200 8867 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"
217.227.233.68 - - [13/Sep/2012:02:38:25 -0400] "GET /articles/ssh-security/ HTTP/1.1" 200 16543 "-" "Mozilla/5.0 (X11; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0"
217.227.233.68 - - [13/Sep/2012:02:38:26 -0400] "GET /reset.css HTTP/1.1" 200 1015 "http://www.semicomplete.com/articles/ssh-security/" "Mozilla/5.0 (X11; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0"
217.227.233.68 - - [13/Sep/2012:02:38:26 -0400] "GET /style2.css HTTP/1.1" 200 4877 "http://www.semicomplete.com/articles/ssh-security/" "Mozilla/5.0 (X11; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0"
217.227.233.68 - - [13/Sep/2012:02:38:26 -0400] "GET /images/jordan-80.png HTTP/1.1" 200 6146 "http://www.semicomplete.com/articles/ssh-security/" "Mozilla/5.0 (X11; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0"
217.227.233.68 - - [13/Sep/2012:02:38:31 -0400] "GET /images/web/2009/banner.png HTTP/1.1" 200 52315 "http://www.semicomplete.com/style2.css" "Mozilla/5.0 (X11; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0"
184.73.137.50 - - [13/Sep/2012:02:38:28 -0400] "GET /files/logstash/logstash-1.1.1-monolithic.jar HTTP/1.1" 200 53813805 "-" "Chef Client/0.10.8 (ruby-1.8.7-p334; ohai-0.6.10; i686-linux; +http://opscode.com)"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/ HTTP/1.1" 200 4483 "http://news.ycombinator.com/item?id=4417660" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/bootstrap/css/bootstrap-responsive.min.css HTTP/1.1" 200 7680 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/css/style.css HTTP/1.1" 200 2715 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/css/jquery.ui.datepicker.css HTTP/1.1" 200 33035 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/excanvas.min.js HTTP/1.1" 200 19415 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/bootstrap/css/bootstrap.min.css HTTP/1.1" 200 71463 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/jquery.history.js HTTP/1.1" 200 6466 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/css/jquery-ui-1.8.16.custom.css HTTP/1.1" 200 50829 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/jquery.flot.min.js HTTP/1.1" 200 37554 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/jquery.flot.selection.min.js HTTP/1.1" 200 3532 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/jquery.smartresize.js HTTP/1.1" 200 1123 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/iso8601.min.js HTTP/1.1" 200 486 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/safebase64.js HTTP/1.1" 200 3264 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/jquery.min.js HTTP/1.1" 200 93868 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/js/lib/json2.js HTTP/1.1" 200 17541 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/js/ajax.js HTTP/1.1" 200 37584 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/jquery-ui-timepicker-addon.js HTTP/1.1" 200 50902 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/jquery.ui.datepicker.js HTTP/1.1" 200 76332 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/bootstrap/js/bootstrap-dropdown.js HTTP/1.1" 200 2558 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/bootstrap/js/bootstrap.js HTTP/1.1" 200 47395 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/js/lib/jquery.ui.accordion.js HTTP/1.1" 200 16265 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:46 -0400] "GET /kibana/js/lib/jquery-ui-1.8.16.custom.min.js HTTP/1.1" 200 196695 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/loader2.php?page=eyJzZWFyY2giOiIiLCJmaWVsZHMiOlsiIl0sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiNDggaG91cnMiLCJncmFwaG1vZGUiOiJjb3VudCIsInN0YW1wIjoxMzQ1NjQ3NjQ3ODU5fQ==&_=1347518472674 HTTP/1.1" 200 576 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/images/logo.png HTTP/1.1" 200 1051 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/css/images/ui-icons_222222_256x240.png HTTP/1.1" 200 4369 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/images/kibana_banner.png HTTP/1.1" 200 16930 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/images/feed.png HTTP/1.1" 200 689 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/images/csv.gif HTTP/1.1" 200 154 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/images/stream.png HTTP/1.1" 200 569 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/images/ajax-loader.gif HTTP/1.1" 200 723 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:47 -0400] "GET /kibana/favicon.ico HTTP/1.1" 200 4286 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:55 -0400] "GET /kibana/loader2.php?page=eyJzZWFyY2giOiIiLCJmaWVsZHMiOlsiIl0sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiYWxsIiwiZ3JhcGhtb2RlIjoiY291bnQiLCJzdGFtcCI6MTM0NzUxODQ4MDExOX0=&_=1347518480123 HTTP/1.1" 200 580 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
24.24.235.59 - - [13/Sep/2012:02:38:56 -0400] "GET /kibana/loader2.php?page=eyJzZWFyY2giOiIiLCJmaWVsZHMiOlsiIl0sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiNDggaG91cnMiLCJncmFwaG1vZGUiOiJjb3VudCIsInN0YW1wIjoxMzQ1NjQ3NjQ3ODU5fQ==&_=1347518481745 HTTP/1.1" 200 576 "http://semicomplete.com/kibana/" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1"
50.19.56.78 - - [13/Sep/2012:02:38:54 -0400] "GET /files/logstash/logstash-1.1.1-monolithic.jar HTTP/1.1" 200 53813805 "-" "Chef Client/0.10.8 (ruby-1.8.7-p334; ohai-0.6.12; i686-linux; +http://opscode.com)"
178.1.226.1 - - [13/Sep/2012:02:39:23 -0400] "GET /favicon.ico HTTP/1.1" 200 3638 "-" "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0.1"
108.166.15.188 - - [13/Sep/2012:02:40:07 -0400] "GET /files/logstash/logstash-1.1.0-monolithic.jar HTTP/1.1" 200 40923996 "-" "Chef Client/0.10.8 (ruby-1.9.3-p0; ohai-0.6.10; x86_64-linux; +http://opscode.com)"
74.125.183.29 - - [13/Sep/2012:02:40:15 -0400] "GET /?flav=rss20 HTTP/1.1" 200 32996 "-" "FeedBurner/1.0 (http://www.FeedBurner.com)"
178.77.103.6 - - [13/Sep/2012:02:40:16 -0400] "GET /blog HTTP/1.1" 200 41691 "-" "Tiny Tiny RSS/1.5.5 (http://tt-rss.org/)"
174.37.213.34 - - [13/Sep/2012:02:40:48 -0400] "GET /blog HTTP/1.1" 200 41691 "-" "Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.19; aggregator:Spinn3r (Spinn3r 3.1); http://spinn3r.com/robot) Gecko/2010040121 Firefox/3.0.19"
50.16.86.251 - - [13/Sep/2012:02:40:51 -0400] "GET /files/logstash/logstash-1.1.1-monolithic.jar HTTP/1.1" 200 53813805 "-" "Chef Client/0.10.8 (ruby-1.8.7-p334; ohai-6.14.0; i686-linux; +http://opscode.com)"
          </code></pre>
        </section> <!-- }}} -->

        <!-- problems {{{ -->
        <section data-markdown>
          # problems
        </section>

        <section data-markdown>
          ## access

          * Who controls access?
          * Who needs access?
          * What granularity of access controls?
        </section>

        <section data-markdown>
          ## consumption

          * who can understand the logs?
          * are these the same who need to consume them?
          * have any tools that can process the logs?
        </section>

        <section data-markdown>
          ## curation

          * how long to keep logs?
          * until they fill up disk 
          * ... and crash production
          * ... when you're asleep and on-call.
        </section>

        <section data-markdown>
          ## compliance

          * PCI (credit cards)
          * FISMA (federal agencies)
          * Sarbanes-Oxley (public companies) 
          * HIPAA (health industry)
        </section>

        <section data-markdown>
          ## tooling

          * what helps you do things with logs?
          * some too specialized (webalizer, etc)
          * some don't scale (ssh + grep)
        </section>

        <section data-markdown>
          ## summary

          * access
          * consumption
          * curation
          * compliance
          * tooling
        </section>
        <!-- }}} -->

        <!-- Case Study: DreamHost {{{ -->
        <section>
          <h3 class="text-left"> case study: </h3>
          <h2 class="text-right"> email at DreamHost </h2>
        </section>

        <section>
          <blockquote>
            Help! I'm not getting my mail!
          </blockquote>
          <p class="text-right">- A DreamHost Customer</p>
        </section>

        <section data-markdown>
          ## Why do we care?

          * what's the business requirement?
        </section>

        <section>
          <h3 class="text-left">A DreamHost Core Value</h3>

          <blockquote class="text-left"> 
            <b>Provide Superhero Service</b>: DreamHost strives to max out the value
            and customer service we put into everything we do. 
          </blockquote>
          <i><a href="http://dreamhost.com/about-us/dreamhost-values/">- The DreamHost Way </a></i>
        </section>

        <section>
          <h2> Situation </h2>

          <ul>
            <li class="fragment"> Customer is having email problems,
            <li class="fragment"> and Customers having email problems is bad,
            <li class="fragment"> Logs are necessary for diagnosis,
            <li class="fragment"> so Technical Support needs access,
            <li class="fragment"> but Operations has access,
            <li class="fragment"> and InfoSec policies restrict certain access.
          </ul>
        </section>

        <section data-markdown>
          ## Old Solution

          * access: Ops gives Technical Support ssh access.
          * tooling: scripted ssh + grep
          * curation: daily log rotation, a few days of retention
        </section>

        <section>
          <h2> Old Solution </h2>

          <pre><code>% ssh-and-grep-some-stuff.pl user@example.com</code></pre>
          <div class="fragment">
            <img src="images/spinner.png" class="plain">
            <div>
              Loading  <blink> ▄ </blink>
            </div>
          </div>
          <div class="fragment" style="margin-top: 2em">
            ... is it actually doing anything?
          </div>
        </section>

        <section data-markdown>
          ### result: reduced support efficiency 
          ### due to bad tooling
        </section>

        <section data-markdown>
          ## Let's Reduce MTTSR
          
          (Mean Time to Technical Support Resolution)
        </section>

        <section data-markdown>
          ## New Solution

          <img src="images/logstash.png" class="plain">
        </section>

        <section data-markdown>
          ## New Solution

          * hundreds of servers logging events
          * central logstash cluster
          * one search interface on the web

          <img src="images/logstash-dreamhost-day.png" class="plain">
        </section>

        <section data-markdown>
          ## New Solution

          * faster results
          * better experience
          * more effective customer support
        </section>

        <section data-markdown>
          ## helps the business

          <blockquote class="text-left"> 
            <b>Empower People</b>: By empowering our employees to be truly
            helpful, we empower our customers with products and services they
            need to do their business.
          </blockquote>
          <i><a href="http://dreamhost.com/about-us/dreamhost-values/">- The DreamHost Way </a></i>
        </section>

        <section>
          <h2> How much improved?</h2>
          <p style="padding-top: 2em" class="text-left">Technical Support Says</p>

          <blockquote class="text-left">by an order of awesome</blockquote>
          <blockquote class="text-left">10000000000%</blockquote>
        </section>

        <section data-markdown>
          ## implementation details
          * /var/log/mail.{info,warn,log}, /var/log/amavisd.log
          * 600-ish servers shipping logs
          * 7-node logstash/elasticsearch cluster
          * each node: 8 cores, 4TB, 16GB
        </section>

        <section data-markdown>
          ## event metrics
          * peak 10,000 events/second
          * 500 million events/day
          * 4 billion events/week
          * 1 terabyte/week
          * peak 10% cpu utilization across cluster
        </section>

        <!--
        <section data-markdown>
          ## capacity options
          * retention: 1TB/week == roughly 150 days
          * cpu usage: can probably handle 10x more load
        </section>
        -->
        <!-- }}} -->

        <section data-markdown>
          <img src="images/logstash.png" class="plain full left">

          <h3>So, about logstash.</h3>

          <p>how can it help you?</p>

          <hr>

          <ul>
            <li class="fragment"> powerful and flexible log processing
            <li class="fragment"> excellent search/analytics
            <li class="fragment"> integrates well with your infrastructure
            <li class="fragment"> helpful and friendly community
          </ul>
        </section>

        <section> <!-- {{{ Simple event flow (files->filters->elasticsearch -->
          <div class="full">
            <img src="images/simple-inputs.jpg" class="full plain">
            <div style="position: absolute; font-size: 7em; top: 270px; left: 450px; color: black; text-shadow: 3px 3px 3px #000" class="fragment"> <b> ? </b> </div>
          </div>
        </section>

        <!-- 
          * Add slide showing sample apache log
          * highlight fields
          * highlight timestamp
          -->
        <section> <!-- apache parsing filter example {{{ -->
          <h3> parse with grok </h3>

          <p> Sample event </p>
          <pre class="wrap"><code class="wrap">24.22.31.135 - - [22/Feb/2013:15:19:47 -0500] "GET /blog/geekery/xvfb-firefox.html HTTP/1.1" 200 10975 "-" "Screaming Frog SEO Spider/2.10"</code></pre>

          <div class="fragment" style="position: relative">
            <p>Break it down - </p>
            <div>
              <pre class="fragment overlay"><code>
               24.22.31.135 
               [22/Feb/2013:15:19:47 -0500] 
               GET 
               /blog/geekery/xvfb-firefox.html
               HTTP/1.1
               200
               10975 
               -
               Screaming Frog SEO Spider/2.10
              </code></pre>
              <pre class="fragment overlay"><code>
ip:            24.22.31.135 
timestamp:     [22/Feb/2013:15:19:47 -0500] 
  verb:        GET 
  path:        /blog/geekery/xvfb-firefox.html
  protocol:    HTTP/1.1
response code: 200
bytes sent:    10975 
referrer:      -
user agent:    Screaming Frog SEO Spider/2.10
              </code></pre>
            </div>
          </div>
        </section>

        <section data-markdown>
          ## what times is it?
          <table>
            <tr>
              <td class="fragment">1304060505
              <td class="fragment" nowrap>22/Feb/2013:15:19:47 -0500
            <tr>
              <td class="fragment" nowrap>Fri, 21 Nov 1997 09:55:06 -0600
              <td class="fragment">Oct 11 20:21:47
            <tr>
              <td class="fragment">020805 13:51:24
              <td class="fragment">110429.071055,118
            <tr>
              <td class="fragment">@4000000037c219bf2ef02e94
            </tr>
          </table>
        </section>

        <section data-markdown>
          ## where is 24.22.31.135?

          <center>
            <table class="fragment">
              <tr>
                <td>city</td><td>  Portland</td>
              </tr>
              <tr>
                <td>country</td><td>   United States</td>
              </tr>
              <tr>
                <td>latitude</td><td>   45.50729999999999</td>
              </tr>
              <tr>
                <td>longitude</td><td>  -122.69319999999999</td>
              </tr>
            </table>
          </center>
        </section>
        <!-- }}} -->

        <section>
          <div class="full">
            <img src="images/simple-inputs-filters.jpg" class="full plain">
            <div style="position: absolute; font-size: 7em; top: 270px; left: 700px; color: black; text-shadow: 3px 3px 3px #000" class="fragment"> <b> ? </b> </div>
          </div>
        </section> 

        <section>
          <img src="images/kibana-search.png" class="full plain">
          <p> maybe you want to search? </p>
        </section>

        <section>
          <img src="images/frontend-response-codes.png" class="full plain">
          <p> maybe you want a graph? </p>
        </section>

        <section>
          <img src="images/simple-inputs-filters-outputs.jpg" class="full plain">
        </section> <!-- }}} -->

        <section>
          how to scale? 
        </section>

        <section>
          <img src="images/tiered-redis-input.jpg" class="full plain">
        </section>

        <section>
          <img src="images/tiered-redis-output.jpg" class="full plain">
        </section>
        <!-- }}} -->
 
        <section>
          <h3> how do we get there? </h3>

          <img src="images/logstash.png" class="plain fragment">
        </section>

        <!-- the agent and plugins {{{ -->
        <section data-markdown>
          ## the agent

          inputs | filters | outputs
        </section>

        <section data-markdown>
          ## inputs

          where logs come from.
        </section>

        <section data-markdown>
          ## inputs: local

          * files
          * standard input
          * windows eventlog
          * external programs
        </section>

        <section>
          <h2> inputs: network</h2>

          <table class="list">
            <tr>
              <td> gemfire </td>
              <td> irc </td>
            </tr> <tr>
              <td> lumberjack </td>
              <td> rabbimq </td>
            </tr> <tr>
              <td> redis </td>
              <td> relp </td>
            </tr> <tr>
              <td> stomp </td>
              <td> syslog </td>
            </tr> <tr>
              <td> tcp and udp </td>
              <td> websockets </td>
            </tr> <tr>
              <td> xmpp </td>
              <td> zeromq </td>
            </tr>
          </table>
        </section>

        <section data-markdown>
          ## inputs: external

          * Heroku
          * Amazon SQS
          * Twitter Stream API
          * Drupal DBLog
        </section>

        <section data-markdown>
          ## filters

          processing events for awesome
        </section>

        <section data-markdown>
          ## filters: grok

          See this log:

              37.57.128.238 - - [13/Sep/2012:02:37:24 -0400] "GET / HTTP/1.1" 200 41687 
              ( ip address)      (  some timestamp thing   )  (http request)  rsp bytes

          Describe it in grok:

              %{IP:client} - - \[%{HTTPDATE:timestamp}\] "%{WORD:verb} %{URIPATH:request} HTTP/%{NUMBER:http_version}" %{NUMBER:response} %{NUMBER:bytes}

          becomes:

              {
                "client": "37.57.128.238",
                "timestamp": "13/Sep/2012:02:37:24 -0400",
                "verb": "GET",
                "request": "/",
                "http_version": "1.1",
                "response": 200,
                "bytes": 41687,
              }

        </section>

        <section data-markdown>
          ## filters: date

          <table>
            <tr>
              <td class="fragment">1304060505
              <td class="fragment" nowrap>29/Apr/2011:07:05:26 +0000
            <tr>
              <td class="fragment" nowrap>Fri, 21 Nov 1997 09:55:06 -0600
              <td class="fragment">Oct 11 20:21:47
            <tr>
              <td class="fragment">020805 13:51:24
              <td class="fragment">110429.071055,118
            <tr>
              <td class="fragment">@4000000037c219bf2ef02e94
            </tr>
          </table>

          <div class="fragment">
            <pre><code style="font-size:130%; line-height: 130%;">
            filter {
              date {
                # Parse apache's "13/Sep/2012:02:37:24 -0400"
                match =&gt; [ "timestamp", "dd/MMM/yyyy:HH:mm:ss Z" ]
              }
            }
            </code></pre>
          </div>

        </section>

        <section>
          <h3> filters: complex parsing</h3>
          <ul>
            <li class="fragment"> key=value things="like this"
            <li class="fragment"> { "json": "parsing" }
            <li class="fragment"> &lt;xml parsing="true" /&gt;
            <li class="fragment"> csv,parsing,enabled
            <li class="fragment"> also=have&amp;url=parsing
          </ul>
        </section>

        <section data-markdown>
          ## filters: improve event data

          * geoip lookups
          * user agent parsing
          * syslog decoding
          * dns lookups
          * zeromq call outs
        </section>

        <section data-markdown>
          ## filters: modify events

          * mutate
          * anonymize
          * translate
        </section>

        <section data-markdown>
          ## outputs

          where events go
        </section>

        <section data-markdown>
          ## outputs: metrics

          * boundary
          * circonus
          * cloudwatch
          * datadog
          * ganglia
          * graphite
          * librato
          * opentsdb
          * riemann
        </section>

        <section data-markdown>
          ## outputs: storage
          * elasticsearch
          * file
          * mongodb
          * redis
          * riak
        </section>

        <section data-markdown>
          ## outputs: monitor &amp; report
          * nagios
          * email
          * pagerduty
          * zabbix
          * irc
        </section>
        <!-- }}} -->

        <!-- about the project {{{ -->
        <section data-markdown>
          ## about the project
        </section>

        <section data-markdown>
          ## extendable 

          * 100+ plugins (inputs, filters, outputs)
          * something missing? Easy to add!
        </section>

        <section data-markdown>
          ## project principles
          * newbies have a bad time? It's a bug.
          * all contributions are valued (code, bugs, docs, support, etc)
        </section>

        <section data-markdown>
          ## community
          * communication: irc, mailing list
          * book: http://www.logstashbook.com/
          * tips/tricks: http://cookbook.logstash.net/ 
          * extra goodness: kibana, logstash-cli, puppet modules, chef cookbooks
        </section>

        <section data-markdown>
          ## project metrics
          * 18000 unique monthly visitors to logstash.net 
          * 736 users on logstash-users@googlegroups.com
          * 540 users on logstash.jira.com
          * 275 folks in #logstash on freenode IRC
          * 130 code contributors
        </section>
        <!-- }}} -->
      </div>
    </div>

    <div style="display: none;"> <!-- any non-shown sections here -->
      <!-- deployment models {{{ -->
      <section data-markdown>
        ## deployment scenarios
      </section>

      <section>
        <h3> simple standalone </h3> 

        <table class="inner-border">
          <tr>
            <th> inputs </th>
            <th> filters </th>
            <th> outputs </th>
          </tr>
          <tr>
            <td> 
              /var/log/messages <br>
              /var/log/apache/access.log <br>
              /var/log/mysql/slow.log <br>
            </td>
            <td> 
              grok <br>
              date <br>
              multiline <br>
              anonymize <br>
            </td>
            <td>
              elasticsearch <br>
              ops irc channel <br>
            </td>
          </tr>
          <!--
          <tr>
            <td colspan="3">
              Summary: read files, parse with filters, send to elasticsearch
            </td>
          </tr>
          -->
        </table>
      </section>

      <section data-markdown>
        ## scale out?

        * expand on (inputs | filters | outputs)
        * "inputs" are your business machines
        * "filters" are a processing tier
        * "outputs" are a storage and integration tier
      </section>

      <section>
        <h3> tiered </h3> 

        <table class="inner-border">
          <tr>
            <th> inputs </th>
            <th> filters </th>
            <th> outputs </th>
          </tr>
          <tr>
            <td> 
              frontends <br>
              databases <br>
              routers <br>
            </td>
            <td> 
              parse <br>
              anonymize <br>
            </td>
            <td>
              elasticsearch <br>
              graphite <br>
              nagios <br>
              live tail <br>
            </td>
            <tr>
              <td colspan="3"></td>
            </tr>
          </tr>
        </table>

        <ul>
          <li class="fragment"> inputs are your business machines
          <li class="fragment"> filters are machines that processes events
          <li class="fragment"> outputs are machines that store events
        </ul>
      </section>

      <section>
        <img src="images/logstash-and-metrics.png" class="plain">

        <p>
        [image made by Rashid Khan]
        </p>
      </section>
      <!-- }}} -->
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: false,

        theme: Reveal.getQueryHash().theme || "night-jls", // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'fade', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
